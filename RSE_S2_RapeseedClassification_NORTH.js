
var rapeseed = /* color: #0b4a8b */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[12.844629437840467, 54.34115181121004],
                  [12.846002728856092, 54.338549874091015],
                  [12.850465924656874, 54.33955063862544]]]),
            {
              "landcover": 1,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.869427513655637, 54.33181677455657],
                  [12.869942497786496, 54.33061562828699],
                  [12.873547386702512, 54.331366348816786],
                  [12.873461556014036, 54.33261751924578]]]),
            {
              "landcover": 1,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.884018730696653, 54.33061562828699],
                  [12.884877037581418, 54.32956459652184],
                  [12.887022804793332, 54.33071572514945]]]),
            {
              "landcover": 1,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.78720171409509, 54.3347694433378],
                  [12.787373375472043, 54.33371851773433],
                  [12.789261650618528, 54.334519225392256]]]),
            {
              "landcover": 1,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.035741234541547, 54.18875614508846],
                  [13.036942864180219, 54.186847703789645],
                  [13.040032768965375, 54.187651268758536]]]),
            {
              "landcover": 1,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.970853234053266, 54.17358662672672],
                  [12.97325649333061, 54.171577001638354],
                  [12.974114800215375, 54.1738880620691]]]),
            {
              "landcover": 1,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.106122399092328, 54.18162415077646],
                  [13.105264092207562, 54.17931352259912],
                  [13.108010674238812, 54.179614916205004]]]),
            {
              "landcover": 1,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.163628960371625, 54.17288326905164],
                  [13.166203881025922, 54.171376033759664],
                  [13.1677488334185, 54.17238086338977]]]),
            {
              "landcover": 1,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.255468256079325, 54.1186557150411],
                  [12.262678033911357, 54.1172471202399],
                  [12.26233471115745, 54.11946060486325]]]),
            {
              "landcover": 1,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.301710344596017, 54.1076914226546],
                  [12.30462858800422, 54.107188225507706],
                  [12.305486894888986, 54.10839588840104],
                  [12.303341127677072, 54.10844620692496]]]),
            {
              "landcover": 1,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.294758058829416, 54.09823029448453],
                  [12.295273042960275, 54.097324328560966],
                  [12.298019624991525, 54.09787797675447],
                  [12.29613134984504, 54.09893492096681]]]),
            {
              "landcover": 1,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.317417360587228, 54.11141489174844],
                  [12.318018175406564, 54.11055952978598],
                  [12.319048143668283, 54.11121363169788]]]),
            {
              "landcover": 1,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.257765032096017, 54.116295148856906],
                  [12.262142397208322, 54.11518833679621],
                  [12.26420233373176, 54.11649638423824],
                  [12.264030672354806, 54.11750254649035]]]),
            {
              "landcover": 1,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.268837190909494, 54.110056367446674],
                  [12.270553804679025, 54.10849652538776],
                  [12.271841265006174, 54.10899970665738],
                  [12.271755434317697, 54.110257633115175]]]),
            {
              "landcover": 1,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.425457881461853, 54.095452661404025],
                  [12.426230357658142, 54.094596970142284],
                  [12.428633616935485, 54.09520098933581]]]),
            {
              "landcover": 1,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.460310095184695, 54.1254766849071],
                  [12.46219837033118, 54.12457131420158],
                  [12.46271335446204, 54.125929362841745]]]),
            {
              "landcover": 1,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.55480968319739, 54.12113157683566],
                  [12.556182974213016, 54.119773370955],
                  [12.557985418671024, 54.12057823907218]]]),
            {
              "landcover": 1,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.603531856515247, 54.11615113805065],
                  [12.604819316842395, 54.115295873809245],
                  [12.605763454415637, 54.11615113805065]]]),
            {
              "landcover": 1,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.624472725831538, 54.16343211402828],
                  [12.624987709962397, 54.16046715517247],
                  [12.628850090943843, 54.161522503861434],
                  [12.62867842956689, 54.16328135853488]]]),
            {
              "landcover": 1,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.651681054078608, 54.15855740817799],
                  [12.651681054078608, 54.15709991039066],
                  [12.654255974732905, 54.157451724900845]]]),
            {
              "landcover": 1,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.712129257318338, 54.16197478791778],
                  [12.712987564203104, 54.160718431111036],
                  [12.714360855218729, 54.161673265762815]]]),
            {
              "landcover": 1,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.705434463617166, 54.17277788197616],
                  [12.706636093255838, 54.17227547503429],
                  [12.707236908075174, 54.17333052256427]]]),
            {
              "landcover": 1,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.651704452630838, 54.186390786814435],
                  [12.652734420892557, 54.18538629753808],
                  [12.656940124627909, 54.18644101063765],
                  [12.65642514049705, 54.187445474289234]]]),
            {
              "landcover": 1,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.786817668531285, 54.189043371940905],
                  [12.786817668531285, 54.187586947978026],
                  [12.789478419874058, 54.18854116257723]]]),
            {
              "landcover": 1,
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.796344874952183, 54.189545575203645],
                  [12.79840481147562, 54.18793850328751],
                  [12.798147319410191, 54.18894293055626]]]),
            {
              "landcover": 1,
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.852342186895385, 54.21439701205028],
                  [12.852685509649291, 54.21284109813548],
                  [12.854573784795775, 54.21349358530034]]]),
            {
              "landcover": 1,
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.901265679327025, 54.20676745389274],
                  [12.901094017950072, 54.20611486047498],
                  [12.902209816900267, 54.20656665701598]]]),
            {
              "landcover": 1,
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.831941825870558, 54.23423875708006],
                  [12.834001762393996, 54.23238258403207],
                  [12.834516746524855, 54.23353643114963]]]),
            {
              "landcover": 1,
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.799326164249464, 54.24040867828601],
                  [12.804561836246535, 54.23940550186949],
                  [12.806879264835402, 54.24050899458622]]]),
            {
              "landcover": 1,
              "system:index": "28"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.976458642925877, 54.27905822085306],
                  [12.977831933941502, 54.27815620907828],
                  [12.980750177349705, 54.27820632136158],
                  [12.980750177349705, 54.27890788692855]]]),
            {
              "landcover": 1,
              "system:index": "29"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.940156167072473, 54.301955167735684],
                  [12.943074410480676, 54.301654666446616],
                  [12.942645257038293, 54.302455998343106]]]),
            {
              "landcover": 1,
              "system:index": "30"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.952944939655481, 54.30685096583842],
                  [12.95371741585177, 54.3055489326062],
                  [12.95620650581759, 54.30645034461517]]]),
            {
              "landcover": 1,
              "system:index": "31"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.904573477000554, 54.32125272604773],
                  [12.907062566966374, 54.32055188167362],
                  [12.906032598704655, 54.32175332186228]]]),
            {
              "landcover": 1,
              "system:index": "32"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.063007954968157, 54.349266436294734],
                  [13.061377171887102, 54.34761555201375],
                  [13.064552907360735, 54.34831593526239]]]),
            {
              "landcover": 1,
              "system:index": "33"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.124575378175109, 54.350166890678864],
                  [13.126892806763976, 54.34976669116616],
                  [13.126120330567687, 54.351117348902136]]]),
            {
              "landcover": 1,
              "system:index": "34"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.974511009545381, 54.38852166066116],
                  [12.974682670922334, 54.38667243316511],
                  [12.979145866723115, 54.38702229340681]]]),
            {
              "landcover": 1,
              "system:index": "35"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.933425719668435, 54.39019187030548],
                  [12.934970672061013, 54.388992429703784],
                  [12.936858947207497, 54.3899419897379]]]),
            {
              "landcover": 1,
              "system:index": "36"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.953449352327539, 54.40552755970284],
                  [12.953706844392968, 54.40362913904031],
                  [12.959114177766992, 54.40552755970284]]]),
            {
              "landcover": 1,
              "system:index": "37"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.955713768874148, 54.352819799085516],
                  [12.95691539851282, 54.352219537108034],
                  [12.958546181593874, 54.35291984189592]]]),
            {
              "landcover": 1,
              "system:index": "38"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.951508065138796, 54.34606634626342],
                  [12.952108879958132, 54.344365301708855],
                  [12.955456276808718, 54.3456160766147]]]),
            {
              "landcover": 1,
              "system:index": "39"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.866621514235476, 54.34811751224358],
                  [12.867651482497195, 54.34711695626109],
                  [12.86902477351282, 54.3484677010828]]]),
            {
              "landcover": 1,
              "system:index": "40"
            })]),
    bareground = /* color: #ffc82d */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[12.914000054274538, 54.359572142140074],
                  [12.915287514601687, 54.35832179196435],
                  [12.917862435255984, 54.359222047926814]]]),
            {
              "landcover": 2,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.928162117873171, 54.353269989814265],
                  [12.929363747511843, 54.35286982052118],
                  [12.92970707026575, 54.35352009364347]]]),
            {
              "landcover": 2,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.00717367533889, 54.32669272531878],
                  [13.00820364360061, 54.325391319810706],
                  [13.010091918747094, 54.32674277855446]]]),
            {
              "landcover": 2,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.003455171828818, 54.30623876675664],
                  [13.00491429353292, 54.30593829673585],
                  [13.004828462844443, 54.306589312342076]]]),
            {
              "landcover": 2,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.917366991286826, 54.29081180530022],
                  [12.917967806106162, 54.28935896896877],
                  [12.920886049514365, 54.290060344630675]]]),
            {
              "landcover": 2,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.939321449526233, 54.27009750100734],
                  [12.939235618837756, 54.26924541625822],
                  [12.940952232607287, 54.269696522143214]]]),
            {
              "landcover": 2,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.83881095984384, 54.25581421509025],
                  [12.839411774663176, 54.254861553926794],
                  [12.841042557744231, 54.25571393600414]]]),
            {
              "landcover": 2,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.77689337280708, 54.21497779290358],
                  [12.777236695560987, 54.21286979605664],
                  [12.779124970707471, 54.21462646756722]]]),
            {
              "landcover": 2,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.828992600712354, 54.21322113633598],
                  [12.828820939335401, 54.211665178123845],
                  [12.830709214481885, 54.21201652864998]]]),
            {
              "landcover": 2,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.825109038103164, 54.179396947751215],
                  [12.82819894288832, 54.17794018396226],
                  [12.82922891115004, 54.1788946212068]]]),
            {
              "landcover": 2,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.819186720598282, 54.177739246998705],
                  [12.81995919679457, 54.17653360471555],
                  [12.82073167299086, 54.17788994981287]]]),
            {
              "landcover": 2,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.695071781131901, 54.15870816166894],
                  [12.696530902836002, 54.15785377575171],
                  [12.697646701786198, 54.15880867649962]]]),
            {
              "landcover": 2,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.731978977176823, 54.16358284976198],
                  [12.732236469242252, 54.16232654177741],
                  [12.734210575077213, 54.16353259817492]]]),
            {
              "landcover": 2,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.598249999738414, 54.12598755417381],
                  [12.598507491803844, 54.12457920855893],
                  [12.60108241245814, 54.12568576985736]]]),
            {
              "landcover": 2,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.644278699162555, 54.10823564355671],
                  [12.645051175358844, 54.10773245301442],
                  [12.64539449811275, 54.10843691806374]]]),
            {
              "landcover": 2,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.356375128728018, 53.876033031836506],
                  [13.360151679020987, 53.874008977494704],
                  [13.359121710759268, 53.87643783094916]]]),
            {
              "landcover": 2,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.387676366848154, 53.84292648204175],
                  [13.389478811306162, 53.842268154458466],
                  [13.389221319240733, 53.84338224122795]]]),
            {
              "landcover": 2,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.486375619055025, 53.83472553816338],
                  [13.487319756628267, 53.83366187247623],
                  [13.487663079382173, 53.83457358757629]]]),
            {
              "landcover": 2,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.450303788095198, 53.87768821910696],
                  [13.453222031503401, 53.8774858260925],
                  [13.453393692880354, 53.878801363175704]]]),
            {
              "landcover": 2,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.527438382707487, 53.90010162053769],
                  [13.526494245134245, 53.89828102465689],
                  [13.530442456804167, 53.89903961591469]]]),
            {
              "landcover": 2,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.537511328884534, 53.90927091700109],
                  [13.53759715957301, 53.90904339680034],
                  [13.537811736294202, 53.90913187702567]]]),
            {
              "landcover": 2,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.555664519497327, 53.913555649311604],
                  [13.556222418972425, 53.913252319890304],
                  [13.556737403103284, 53.91345453974932]]]),
            {
              "landcover": 2,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.529580854009168, 53.94321348130457],
                  [13.52979543073036, 53.94298614604286],
                  [13.530567906926649, 53.94328925944981]]]),
            {
              "landcover": 2,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.570264600347059, 53.94207679260679],
                  [13.571423314641493, 53.941748410105504],
                  [13.57223870618202, 53.942379912621355]]]),
            {
              "landcover": 2,
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.517993711064832, 53.946370787398266],
                  [13.518379949162977, 53.94543624969479],
                  [13.520439885686415, 53.94604243869927]]]),
            {
              "landcover": 2,
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.585265156568994, 53.96900202794025],
                  [13.586895939650049, 53.96819421894535],
                  [13.58809756928872, 53.96910300296368]]]),
            {
              "landcover": 2,
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.59882640534829, 53.974656252493745],
                  [13.599770542921533, 53.97389903477132],
                  [13.601229664625635, 53.97420192351163]]]),
            {
              "landcover": 2,
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.506129261793603, 53.97667543247845],
                  [13.507416722120752, 53.97516105666377],
                  [13.50844669038247, 53.97667543247845]]]),
            {
              "landcover": 2,
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.608212823030954, 53.99852146158945],
                  [13.608899468538766, 53.99771422488714],
                  [13.608985299227243, 53.998723268319296]]]),
            {
              "landcover": 2,
              "system:index": "28"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.603492135164743, 54.00931674781236],
                  [13.604951256868844, 54.00876191818305],
                  [13.605981225130563, 54.008358401079036],
                  [13.60580956375361, 54.00941762513203]]]),
            {
              "landcover": 2,
              "system:index": "29"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.65198762015143, 54.016403217568104],
                  [13.653360911167056, 54.01635278740629],
                  [13.652588434970767, 54.01695794531358]]]),
            {
              "landcover": 2,
              "system:index": "30"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.710594549466009, 54.031659163953236],
                  [13.71205367117011, 54.03160875228616],
                  [13.710937872219915, 54.0322640991904]]]),
            {
              "landcover": 2,
              "system:index": "31"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.740892782498236, 54.04706079825505],
                  [13.744840994168158, 54.0466072591269],
                  [13.74303854971015, 54.047463939991275]]]),
            {
              "landcover": 2,
              "system:index": "32"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.439701489823506, 54.05853604199936],
                  [13.440903119462178, 54.05742768822354],
                  [13.440988950150654, 54.05838490458951]]]),
            {
              "landcover": 2,
              "system:index": "33"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.35145239953249, 54.056427351809184],
                  [13.353169013302022, 54.05592353272991],
                  [13.352568198482686, 54.05667925905747]]]),
            {
              "landcover": 2,
              "system:index": "34"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.27632869518925, 54.04017897008242],
                  [13.27933276928593, 54.03992696278663],
                  [13.277873647581828, 54.040934982802725]]]),
            {
              "landcover": 2,
              "system:index": "35"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.211435261925772, 54.030541349733156],
                  [13.211950246056631, 54.02988597567593],
                  [13.212636891564443, 54.03018845729359]]]),
            {
              "landcover": 2,
              "system:index": "36"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.150759545319488, 54.01434617101767],
                  [13.151617852204254, 54.01333750629641],
                  [13.153763619416168, 54.01424530564593]]]),
            {
              "landcover": 2,
              "system:index": "37"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.062607492599113, 54.01285335417085],
                  [13.063379968795402, 54.0120463953979],
                  [13.065096582564934, 54.01310552557789]]]),
            {
              "landcover": 2,
              "system:index": "38"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.044239725265129, 53.99635802552535],
                  [13.046385492477043, 53.99600484304116],
                  [13.046385492477043, 53.99696347424215]]]),
            {
              "landcover": 2,
              "system:index": "39"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.937402809624473, 53.9621150532596],
                  [12.938947762017051, 53.960297160655045],
                  [12.940406883721153, 53.96150909786637]]]),
            {
              "landcover": 2,
              "system:index": "40"
            })]),
    other = /* color: #bf04c2 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[12.853975380425254, 53.96463977258818],
                  [12.854490364556113, 53.96332693762151],
                  [12.85758026934127, 53.964033853895415]]]),
            {
              "landcover": 0,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.84084328508834, 53.95494401650816],
                  [12.843160713677207, 53.954489472612806],
                  [12.842130745415488, 53.95555006732752]]]),
            {
              "landcover": 0,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.062521043298602, 53.921279546408066],
                  [13.062864366052509, 53.91961151591184],
                  [13.064666810510516, 53.91940932586858]]]),
            {
              "landcover": 0,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.123329030160903, 53.92540830379762],
                  [13.123500691537856, 53.92636855978283],
                  [13.122728215341567, 53.92540830379762]]]),
            {
              "landcover": 0,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.164634154466853, 53.91101359750741],
                  [13.163089202074275, 53.9100024293207],
                  [13.165749953417048, 53.909901311155544]]]),
            {
              "landcover": 0,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.292460795556167, 53.87854014058928],
                  [13.293748255883315, 53.87712339778078],
                  [13.294949885521987, 53.87854014058928]]]),
            {
              "landcover": 0,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.193248531305926, 53.795884019992045],
                  [13.194364330256121, 53.79441377929326],
                  [13.196338436091082, 53.795072859083334]]]),
            {
              "landcover": 0,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.191617748224871, 53.78848159511724],
                  [13.191961070978778, 53.78609834476442],
                  [13.194450160944598, 53.78706180269897]]]),
            {
              "landcover": 0,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.031992670549812, 53.728448150144814],
                  [13.03079104091114, 53.72728022734452],
                  [13.033709284319343, 53.72575680102288],
                  [13.035168406023445, 53.72707710702405]]]),
            {
              "landcover": 0,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.988991495623054, 53.714684911841786],
                  [12.990278955950203, 53.71361819979082],
                  [12.991137262834968, 53.71458332138329]]]),
            {
              "landcover": 0,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.887877951894893, 53.7684644428218],
                  [12.888392936025753, 53.7674498264592],
                  [12.89019538048376, 53.76831225193057]]]),
            {
              "landcover": 0,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.928008530020747, 53.79114041264022],
                  [12.929810974478755, 53.79022775230535],
                  [12.929896805167232, 53.79129252076553]]]),
            {
              "landcover": 0,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.912816498160396, 53.797224307441674],
                  [12.913331482291255, 53.79615968955468],
                  [12.91470477330688, 53.79681874190944]]]),
            {
              "landcover": 0,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.077141567766716, 54.22187949368676],
                  [13.076626583635857, 54.221051503293666],
                  [13.078128620684197, 54.22120204823648]]]),
            {
              "landcover": 0,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.072463795244744, 54.22278273699757],
                  [13.072935864031365, 54.22172895121388],
                  [13.07405166298156, 54.22228093759767]]]),
            {
              "landcover": 0,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.98735714459167, 54.22026038228132],
                  [12.987872128722529, 54.219733460563674],
                  [12.988687520263056, 54.22000946801625]]]),
            {
              "landcover": 0,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.906153151066519, 54.20969481475081],
                  [12.906196066410757, 54.20901716940143],
                  [12.908041426213003, 54.20899207121205]]]),
            {
              "landcover": 0,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.862026480197642, 54.21933865179671],
                  [12.862627295016978, 54.217230877534526],
                  [12.864043501376841, 54.217883295350155]]]),
            {
              "landcover": 0,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.787972625779389, 54.21812593961804],
                  [12.788273033189057, 54.217322967099285],
                  [12.789603408860444, 54.21774954819391]]]),
            {
              "landcover": 0,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.776016313659056, 54.24054572422637],
                  [12.77743252001892, 54.240320012408795],
                  [12.77691753588806, 54.24082159254891]]]),
            {
              "landcover": 0,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.791263806958113, 54.26380389906676],
                  [12.79186462177745, 54.26322740271147],
                  [12.792808759350692, 54.26355324946807]]]),
            {
              "landcover": 0,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.834733253461764, 54.27743472396576],
                  [12.8353340682811, 54.27690853209807],
                  [12.836106544477389, 54.27743472396576]]]),
            {
              "landcover": 0,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.869327062233879, 54.29114981135601],
                  [12.870013707741691, 54.29037330813416],
                  [12.870399945839836, 54.29072398882141]]]),
            {
              "landcover": 0,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.922091837100766, 54.32313690576265],
                  [12.923400755100033, 54.32231094718222],
                  [12.923851366214535, 54.32328707826826],
                  [12.922671194247982, 54.32351233599876]]]),
            {
              "landcover": 0,
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.251603178335586, 54.13582706384122],
                  [12.255379728628554, 54.13462020005912],
                  [12.25349145348207, 54.136329913372386]]]),
            {
              "landcover": 0,
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.241944563893185, 54.1119110819565],
                  [12.242287886647091, 54.11050225794662],
                  [12.2455494528092, 54.1119110819565]]]),
            {
              "landcover": 0,
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.225428904162754, 54.10634567918752],
                  [12.225257242785801, 54.10513795657963],
                  [12.229205454455723, 54.10594310889324]]]),
            {
              "landcover": 0,
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.496432203709787, 54.03210742220948],
                  [12.498320478856272, 54.03049423593985],
                  [12.49935044711799, 54.03240988766738]]]),
            {
              "landcover": 0,
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.55854094074698, 54.01381441240287],
                  [12.561630845532136, 54.01391527881924],
                  [12.558712602123933, 54.015529108225195]]]),
            {
              "landcover": 0,
              "system:index": "28"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.53605330036612, 53.998076256769004],
                  [12.537083268627839, 53.99525082961488],
                  [12.540688157543855, 53.99787444690268]]]),
            {
              "landcover": 0,
              "system:index": "29"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.633556962475495, 53.99858077715481],
                  [12.63218367145987, 53.99666356716049],
                  [12.638535142407136, 53.996966290397786]]]),
            {
              "landcover": 0,
              "system:index": "30"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.630984572537841, 53.775039607805546],
                  [12.632872847684325, 53.773416464114284],
                  [12.634074477322997, 53.775343940259894]]]),
            {
              "landcover": 0,
              "system:index": "31"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.690379408963622, 53.77767708243386],
                  [12.693125990994872, 53.77564827050756],
                  [12.693812636502685, 53.77676412920341]]]),
            {
              "landcover": 0,
              "system:index": "32"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.811789873402972, 53.76423196621896],
                  [12.811446550649066, 53.76240545499754],
                  [12.814708116811175, 53.76270987905179]]]),
            {
              "landcover": 0,
              "system:index": "33"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.731722620887695, 53.741500442121676],
                  [12.732409266395507, 53.73997753107467],
                  [12.73507001773828, 53.74114510114687]]]),
            {
              "landcover": 0,
              "system:index": "34"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.714899805946288, 53.734088422429565],
                  [12.715071467323241, 53.73231137415511],
                  [12.719877985877929, 53.73373301878443]]]),
            {
              "landcover": 0,
              "system:index": "35"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.794027698592004, 53.71293969237139],
                  [12.795572650984582, 53.71106015119938],
                  [12.799263370589074, 53.7117205400989]]]),
            {
              "landcover": 0,
              "system:index": "36"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.787075412825402, 53.71339686536487],
                  [12.786817920759972, 53.71233012065149],
                  [12.789307010725793, 53.712076129828006]]]),
            {
              "landcover": 0,
              "system:index": "37"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.383214008560913, 53.735567406658085],
                  [13.384115230789916, 53.73399350879535],
                  [13.385574352494018, 53.73464084488961],
                  [13.385445606461303, 53.73561817657571],
                  [13.384716045609252, 53.73618933392355]]]),
            {
              "landcover": 0,
              "system:index": "38"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.38804198478772, 53.73480585053488],
                  [13.389071953049438, 53.73414582406731],
                  [13.389887344589965, 53.734564688219464],
                  [13.389694225540893, 53.73483123596129]]]),
            {
              "landcover": 0,
              "system:index": "39"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.396946918717163, 53.7371158615584],
                  [13.396539222946899, 53.735478559154664],
                  [13.399822246781127, 53.73608779540672],
                  [13.399800789109008, 53.7372427815617]]]),
            {
              "landcover": 0,
              "system:index": "40"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.382312786331909, 53.73780122502302],
                  [13.382355701676147, 53.7372427815617],
                  [13.382892143479125, 53.73735700923696],
                  [13.382677566757934, 53.73790275940065]]]),
            {
              "landcover": 0,
              "system:index": "41"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.399092685929077, 53.73513585988234],
                  [13.399307262650268, 53.73478046509316],
                  [13.399457466355102, 53.735008933516845]]]),
            {
              "landcover": 0,
              "system:index": "42"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.346151617572104, 53.62111072966129],
                  [13.347181585833823, 53.619634369122586],
                  [13.354777601763999, 53.62047437369196],
                  [13.35349014143685, 53.622154332682676],
                  [13.347396162555015, 53.6215179924469]]]),
            {
              "landcover": 0,
              "system:index": "43"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.34024095519112, 53.61138311251094],
                  [13.34073448164986, 53.61035197345727],
                  [13.34474706633614, 53.610721149592486],
                  [13.344189166861042, 53.61152314179848]]]),
            {
              "landcover": 0,
              "system:index": "44"
            })]),
    rapeseed2 = /* color: #00ff00 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[12.481695866722703, 54.254232911734526],
                  [12.482039189476609, 54.25375656563893],
                  [12.485043263573289, 54.253982203949],
                  [12.484699940819382, 54.25488474484426]]]),
            {
              "landcover": 1,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.667297801156224, 54.31508628273176],
                  [12.666954478402317, 54.31288325862892],
                  [12.670216044564427, 54.31338395628152],
                  [12.66987272181052, 54.315386685971376]]]),
            {
              "landcover": 1,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.777739147127022, 54.35114916006098],
                  [12.779198268831124, 54.3503487762698],
                  [12.780657390535225, 54.35114916006098],
                  [12.778940776765694, 54.35154934611076]]]),
            {
              "landcover": 1,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.799332397267108, 54.34075737654729],
                  [12.798753040119891, 54.339981808923014],
                  [12.799654262348895, 54.3394689255215],
                  [12.800984638020282, 54.34003184598548],
                  [12.799675720021014, 54.34093250269552]]]),
            {
              "landcover": 1,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.870142715260272, 54.35362716081331],
                  [12.869971053883319, 54.35190141790187],
                  [12.87293221263576, 54.35190141790187],
                  [12.873103874012713, 54.35327701593856],
                  [12.870872276112323, 54.3538022321318]]]),
            {
              "landcover": 1,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.871644752308612, 54.349875453306694],
                  [12.871601836964373, 54.3487748874641],
                  [12.873661773487811, 54.34897499253681],
                  [12.873661773487811, 54.350425725175576]]]),
            {
              "landcover": 1,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.871516006275897, 54.35440247098937],
                  [12.871644752308612, 54.353777221989105],
                  [12.872760551258807, 54.35405233272138],
                  [12.872846381947284, 54.35467757753534]]]),
            {
              "landcover": 1,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.872717635914569, 54.348224593490315],
                  [12.873790519520526, 54.34587325441869],
                  [12.875764625355487, 54.346123403267306],
                  [12.8744342496841, 54.34842470124239]]]),
            {
              "landcover": 1,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.012374342730368, 54.348504313147046],
                  [13.012395800402487, 54.34816663140433],
                  [13.014241160204733, 54.34819164496191],
                  [13.014176787188376, 54.34852932649911],
                  [13.013854922106589, 54.348641886394944],
                  [13.013168276598776, 54.348616873111396],
                  [13.012760580828513, 54.34857935315753]]]),
            {
              "landcover": 1,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.010357321551169, 54.344939754822484],
                  [13.010378779223288, 54.344677090927476],
                  [13.011301459124411, 54.344739630102346],
                  [13.011280001452292, 54.3450022935977],
                  [13.010357321551169, 54.34503981681716]]]),
            {
              "landcover": 1,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.014847467627646, 54.33870403877299],
                  [13.014783094611289, 54.337903412607616],
                  [13.016821573462607, 54.33781584317489],
                  [13.016821573462607, 54.33867901944131]]]),
            {
              "landcover": 1,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.020576666083457, 54.3343754678627],
                  [13.020855615821006, 54.33327448696409],
                  [13.022035787787559, 54.33337457735483],
                  [13.022550771918418, 54.33416278066824],
                  [13.0215208036567, 54.3345005774632]]]),
            {
              "landcover": 1,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[12.972413554858917, 54.033552621641114],
                  [12.97134067125296, 54.033073730145546],
                  [12.970654025745148, 54.032241958122206],
                  [12.973701015186066, 54.03246880668788],
                  [12.973872676563019, 54.033552621641114],
                  [12.973271861743683, 54.033779463055865]]]),
            {
              "landcover": 1,
              "system:index": "12"
            })]),
    rapeseed3 = /* color: #0000ff */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[13.095726547197728, 54.08236575101696],
                  [13.095705089525609, 54.081988123254625],
                  [13.096327362017064, 54.08169860630989],
                  [13.096992549852757, 54.081358736015126],
                  [13.097314414934544, 54.08159790429047]]]),
            {
              "landcover": 1,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.12083664365332, 54.07593653577844],
                  [13.120750812964843, 54.07569733487989],
                  [13.121179966407226, 54.07564697662037],
                  [13.12156620450537, 54.075898767307145],
                  [13.121458916144775, 54.076100198756976]]]),
            {
              "landcover": 1,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.032310829174548, 54.057293628856506],
                  [13.031924591076404, 54.05799895059357],
                  [13.030250892651111, 54.057747051347995]]]),
            {
              "landcover": 1,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.04926239014867, 54.06565595861653],
                  [13.049863204968005, 54.066008549985014],
                  [13.048790321362048, 54.06605891993614]]]),
            {
              "landcover": 1,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.054154739391834, 54.068753623251446],
                  [13.055055961620837, 54.068375871643276],
                  [13.055270538342029, 54.06880398987291]]]),
            {
              "landcover": 1,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.058832511913806, 54.06427074925767],
                  [13.058918342602283, 54.06394332938528],
                  [13.059604988110095, 54.06424556320528]]]),
            {
              "landcover": 1,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.042506798628779, 54.081267850012644],
                  [13.042635544661493, 54.08031116103385],
                  [13.043279274825068, 54.08031116103385],
                  [13.042893036726923, 54.08139372849977]]]),
            {
              "landcover": 1,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[13.010921105269404, 54.088681441923235],
                  [13.010856732253046, 54.08835421453389],
                  [13.011157139662714, 54.08837938596313]]]),
            {
              "landcover": 1,
              "system:index": "7"
            })]),
    corine = ee.Image("COPERNICUS/CORINE/V18_5_1/100m/2012"),
    nuts = ee.FeatureCollection("users/matthieutaymans/NutsRapeseed");




/**
 * Function to mask clouds using the Sentinel-2 QA band
 * @param {ee.Image} image Sentinel-2 image
 * @return {ee.Image} cloud masked Sentinel-2 image
 */
function maskS2clouds(image) {
  var qa = image.select('QA60');

  // Bits 10 and 11 are clouds and cirrus, respectively.
  var cloudBitMask = 1 << 10;
  var cirrusBitMask = 1 << 11;

  // Both flags should be set to zero, indicating clear conditions.
  var mask = qa.bitwiseAnd(cloudBitMask).eq(0)
      .and(qa.bitwiseAnd(cirrusBitMask).eq(0));

  return image.updateMask(mask).divide(10000);
}
  
var outputname = 'classifFieldVectorsMVBRGAllB';


    
// 1. Create the image composite masked in non-agricultural area with Corine
//----------------------------------------------------------------------------

// BAVARIA
// var extent=['DE2']; 
 // MV
var extent=['DE4','DE8']; 
var aoi = nuts.filter(ee.Filter.inList('NUTS_ID',extent));


/// Load Sentinel-2 TOA reflectance data.
var dataset = ee.ImageCollection('COPERNICUS/S2')
                  // Filter to get images of the desired period.
                  .filterDate('2018-05-01', '2018-05-25')
                  // Filter to get only images under the region of interest.
                  //.filterBounds(roi)
                  // Pre-filter to get less cloudy granules.
                  .filter(ee.Filter.lt('CLOUDY_PIXEL_PERCENTAGE', 20))
                  .map(maskS2clouds);

  

// Use these bands for prediction.
var bands = ['B2','B3','B4','B5','B6','B7','B8','B8A','B11','B12'];

// Create composite
var composite = dataset.select(bands).median().clip(aoi);
var rgbVis = {
  min: 0.0,
  max: 0.3,
  bands: ['B4', 'B3', 'B2'],
};

//Display image on the map;
Map.addLayer(composite, { min: 0, max: 0.3}, 'composite');
//Map.addLayer(dataset.select('B4', 'B3', 'B2').median().clip(aoi),rgbVis,'RGB');

//Mask with the Sentinel Corine data

var compositeMasked = composite.updateMask(corine.gt(10).and(corine.lt(22)));

// 2. Define training areas and sample points
//--------------------------------------------

// Merge points together
var newfc = rapeseed.merge(bareground).merge(other).merge(rapeseed2);//.merge(rapeseed3);
print(newfc, 'newfc')

// Sample the input imagery to get a FeatureCollection of training data.
var training = compositeMasked.select(bands).sampleRegions({
  collection: newfc,
  properties: ['landcover'],
  scale: 10
});

//3. Make a Random Forest classifier and train it.
//-------------------------------------------------

var classifier = ee.Classifier.randomForest(10).train({
  features: training,
  classProperty: 'landcover',
  inputProperties: bands
});

// Classify the input imagery.
var classified = compositeMasked.select(bands).classify(classifier);


//4. Erosion-dilatation
//---------------------

// Define a kernel.
var kernel = ee.Kernel.circle({radius: 1});

// Perform an erosion followed by a dilation, display.
var opened = classified 
            .focal_min({kernel: kernel, iterations: 3})
            .focal_max({kernel: kernel, iterations: 2});
            
//Mask non rapeseed elements

var rapeseed = classified.updateMask(classified.eq(1))

var openedMasked = opened.updateMask(opened.eq(1));
//Map.addLayer(openedMasked, {min: 0, max: 0.3}, 'rapeseed');



//5. Create vectors
//-----------------------

var vectors = openedMasked.reduceToVectors({
  geometry: aoi,
  crs: opened.projection(),
  scale: 10,
  tileScale: 4,
  maxPixels: 10e10,
  geometryType: 'polygon',
  eightConnected: false,
  labelProperty: 'zone'
});


// //Map.addLayer(vectors,{min: 0, max: 0.3}, 'vectors');


//4. Export vector to SHP
//-----------------------

// Export the FeatureCollection to a SHP file.
Export.table.toDrive({
  collection: vectors,
  description: outputname,
  fileFormat: 'KML'
});
